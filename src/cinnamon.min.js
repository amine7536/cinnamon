var audioPlayer=audioPlayer||{};audioPlayer.audio=document.querySelector("audio"),audioPlayer.audio.load(),audioPlayer.formatTime=function(e){if(isNaN(e))return"--:--";var o=Math.floor(e/3600),a=Math.floor(e%3600/60),i=Math.floor(e%60);return 10>i&&(i="0"+i),o?(10>a&&(a="0"+a),o+":"+a+":"+i):a+":"+i},audioPlayer.play=function(){audioPlayer.audio.paused?(document.querySelector(".audio-control-play").innerHTML='<i class="fa fa-pause"></i>',audioPlayer.audio.play()):(document.querySelector(".audio-control-play").innerHTML='<i class="fa fa-play"></i>',audioPlayer.audio.pause())},audioPlayer.pause=function(){audioPlayer.audio.pause()},audioPlayer.stop=function(){audioPlayer.audio.pause(),audioPlayer.audio.currentTime=0,document.querySelector(".audio-control-play").innerHTML='<i class="fa fa-play"></i>'},audioPlayer.volume=function(e){audioPlayer.audio.volume=e},audioPlayer.resume=function(){audioPlayer.audio.currentTime=0},audioPlayer.current=0,audioPlayer.onAir=function(){return audioPlayer.audio.children[audioPlayer.current].getAttribute("file-name")},audioPlayer.next=function(){audioPlayer.current++,audioPlayer.current==audioPlayer.audio.children.length&&(audioPlayer.current=0),audioPlayer.audio.src=audioPlayer.audio.children[audioPlayer.current].src,document.querySelector(".audio-control-play").innerHTML='<i class="fa fa-pause"></i>',audioPlayer.audio.play()},audioPlayer.prev=function(){audioPlayer.current--,audioPlayer.current<0&&(audioPlayer.current=audioPlayer.audio.children.length-1),audioPlayer.audio.src=audioPlayer.audio.children[audioPlayer.current].src,document.querySelector(".audio-control-play").innerHTML='<i class="fa fa-pause"></i>',audioPlayer.audio.play()},audioPlayer.init=function(){var e=document.createElement("DIV");e.classList.add("cinnamon");var o=document.createElement("DIV");o.classList.add("audio-player");var a=document.createElement("DIV");a.classList.add("audio-control-button"),a.onclick=audioPlayer.prev,a.innerHTML='<i class="fa fa-fast-backward"></i>',a.title="Previous",o.appendChild(a);var t=document.createElement("DIV");t.classList.add("audio-control-button"),t.classList.add("audio-control-play"),t.onclick=audioPlayer.play,t.innerHTML='<i class="fa fa-play"></i>',t.title="Play",o.appendChild(t);var r=document.createElement("DIV");r.classList.add("audio-control-button"),r.onclick=audioPlayer.stop,r.innerHTML='<i class="fa fa-stop"></i>',r.title="Stop",o.appendChild(r);var l=document.createElement("DIV");l.classList.add("audio-control-button"),l.onclick=audioPlayer.next,l.innerHTML='<i class="fa fa-fast-forward"></i>',l.title="Next",o.appendChild(l);var d=document.createElement("DIV");d.classList.add("audio-control-thumb");var u=document.createElement("IMG");u.classList.add("audio-control-img"),u.src=audioPlayer.audio.children[audioPlayer.current].getAttribute("file-thumb"),d.appendChild(u),o.appendChild(d);var n=document.createElement("DIV");n.classList.add("audio-control-display");var c=document.createElement("DIV");c.classList.add("audio-control-title"),c.innerHTML=audioPlayer.audio.children[audioPlayer.current].getAttribute("file-name"),n.appendChild(c);var s=document.createElement("DIV");s.classList.add("audio-control-timer"),s.innerHTML=audioPlayer.formatTime(audioPlayer.audio.duration),n.appendChild(s);var y=document.createElement("DIV");y.classList.add("audio-control-progress"),n.appendChild(y);var m=document.createElement("DIV");m.classList.add("audio-control-seeker"),m.classList.add("audio-control-hide"),n.appendChild(m),o.appendChild(n);var p=document.createElement("DIV");p.classList.add("audio-control-button"),p.onmouseover=function(){document.querySelector(".audio-slider-container").classList.toggle("audio-control-hide")},p.onclick=function(){audioPlayer.audio.muted?(audioPlayer.audio.muted=!1,this.innerHTML='<i class="fa fa-volume-up"></i>',this.title="Click to mute the player"):(audioPlayer.audio.muted=!0,this.innerHTML='<i class="fa fa-volume-off"></i>',this.title="Click to unmute the player")},p.innerHTML='<i class="fa fa-volume-up"></i>',p.title="Click to mute the player",o.appendChild(p);var f=document.createElement("DIV");f.classList.add("audio-slider-container");var P=document.createElement("INPUT");P.classList.add("audio-control-slider"),P.type="range",P.step="any",P.min=0,P.max=1,P.value=.5,P.setAttribute("orient","vertical"),f.appendChild(P),f.classList.toggle("audio-control-hide"),o.appendChild(f);var h=document.createElement("DIV");h.classList.add("audio-control-button"),h.classList.add("audio-control-list"),h.onclick=function(){document.querySelector(".audio-control-playlist").classList.toggle("audio-control-hide"),'<i class="fa fa-bars"></i>'==this.innerHTML?this.innerHTML='<i class="fa fa-times"></i>':this.innerHTML='<i class="fa fa-bars"></i>'},h.innerHTML='<i class="fa fa-bars"></i>',h.title="Playlist",o.appendChild(h);var L=document.createElement("DIV");L.classList.add("audio-control-button"),L.classList.add("audio-control-minif"),L.onclick=function(){audioPlayer.shift()},L.innerHTML='<i class="fa fa-toggle-left"></i>',L.title="Click to expand or collapse the player",o.appendChild(L),e.appendChild(o);var v=document.createElement("DIV");for(v.classList.add("audio-control-playlist"),i=0;i<audioPlayer.audio.children.length;i++){var g=document.createElement("DIV");g.classList.add("audio-control-song"),g.setAttribute("file-src",audioPlayer.audio.children[i].src),g.setAttribute("file-position",i),g.onclick=function(){var e=document.querySelectorAll(".audio-control-song");if(audioPlayer.audio.paused||audioPlayer.current!=this.getAttribute("file-position")){if(audioPlayer.current!=this.getAttribute("file-position")){for(audioPlayer.current=this.getAttribute("file-position"),audioPlayer.audio.src=this.getAttribute("file-src"),i=0;i<e.length;i++)e[i].classList.remove("audio-control-selected");this.classList.add("audio-control-selected")}audioPlayer.play()}else audioPlayer.pause()},v.appendChild(g)}v.classList.toggle("audio-control-hide"),e.appendChild(v);var S=document.createElement("DIV");S.classList.add("audio-control-tooltip"),S.classList.add("audio-control-hide");var T=document.createElement("SPAN");S.appendChild(T),e.appendChild(S),document.body.appendChild(e),document.querySelector(".audio-control-title").innerHTML=audioPlayer.onAir()},audioPlayer.init(),audioPlayer.initPlaylist=function(){var e=document.querySelectorAll(".audio-control-song");for(i=0;i<e.length;i++)e[i].innerHTML="<span>"+i+"</span>",e[i].innerHTML+="<span>"+audioPlayer.audio.children[i].getAttribute("file-name")+"</span>",e[i].innerHTML+="<span>"+audioPlayer.audio.children[i].getAttribute("file-author")+"</span>",e[i].innerHTML+="<span>--:--</span>"},audioPlayer.initPlaylist(),audioPlayer.audio.onplay=function(){document.querySelector(".audio-control-title").innerHTML=audioPlayer.onAir(),document.querySelectorAll(".audio-control-song span:nth-child(4)")[audioPlayer.current].innerHTML=audioPlayer.formatTime(audioPlayer.audio.duration);var e=document.querySelectorAll(".audio-control-song");for(i=0;i<e.length;i++)e[i].classList.remove("audio-control-selected");e[audioPlayer.current].classList.add("audio-control-selected")},audioPlayer.audio.onloadedmetadata=function(){document.querySelector(".audio-control-timer").innerHTML=audioPlayer.formatTime(audioPlayer.audio.duration),document.querySelectorAll(".audio-control-song span:nth-child(4)")[audioPlayer.current].innerHTML=audioPlayer.formatTime(audioPlayer.audio.duration)},audioPlayer.audio.ontimeupdate=function(){var e=audioPlayer.audio.currentTime/audioPlayer.audio.duration*100;document.querySelector(".audio-control-progress").style.width=e+"%",document.querySelector(".audio-control-timer").innerHTML=audioPlayer.formatTime(audioPlayer.audio.currentTime)+" ("+Math.floor(e)+"%) "+audioPlayer.formatTime(audioPlayer.audio.duration),document.querySelector(".audio-control-img").src=audioPlayer.audio.children[audioPlayer.current].getAttribute("file-thumb")},audioPlayer.audio.onended=function(){audioPlayer.next()},document.querySelector(".audio-control-display").onclick=function(e){var o=(e.pageX-this.offsetLeft)/this.offsetWidth;audioPlayer.audio.currentTime=audioPlayer.audio.duration*o},document.querySelector(".audio-control-display").onmousemove=function(e){var o=(e.pageX-this.offsetLeft)/this.offsetWidth;document.querySelector(".audio-control-seeker").style.display="flex",document.querySelector(".audio-control-seeker").style.width=100*o+"%",document.querySelector(".audio-control-tooltip span").innerHTML=audioPlayer.formatTime(audioPlayer.audio.duration*o),document.querySelector(".audio-control-tooltip").style.left=e.pageX+"px",document.querySelector(".audio-control-tooltip").style.display="flex"},document.querySelector(".audio-control-display").onmouseout=function(){document.querySelector(".audio-control-seeker").style.display="none",document.querySelector(".audio-control-tooltip").style.display="none"},document.querySelector(".audio-control-slider").onchange=function(){audioPlayer.volume(this.value)},document.querySelector(".audio-control-slider").oninput=function(){audioPlayer.volume(this.value)},audioPlayer.mini=!1,audioPlayer.shift=function(){if(audioPlayer.mini){document.querySelector(".audio-player").classList.remove("audio-control-shift"),document.querySelector(".audio-control-display").classList.remove("audio-control-hide"),document.querySelector(".audio-control-play").classList.remove("audio-control-mini"),document.querySelector(".audio-control-minif").innerHTML='<i class="fa fa-toggle-left"></i>';var e=document.querySelectorAll(".audio-control-button");for(i=0;i<e.length;i++)e[i].classList.remove("audio-control-hide");audioPlayer.mini=!1}else{document.querySelector(".audio-player").classList.add("audio-control-shift"),document.querySelector(".audio-control-playlist").classList.add("audio-control-hide"),document.querySelector(".audio-control-list").innerHTML='<i class="fa fa-bars"></i>',document.querySelector(".audio-slider-container").classList.add("audio-control-hide"),document.querySelector(".audio-control-display").classList.add("audio-control-hide");var e=document.querySelectorAll(".audio-control-button");for(i=0;i<e.length;i++)e[i].classList.add("audio-control-hide");document.querySelector(".audio-control-play").classList.remove("audio-control-hide"),document.querySelector(".audio-control-play").classList.add("audio-control-mini"),document.querySelector(".audio-control-minif").classList.remove("audio-control-hide"),document.querySelector(".audio-control-minif").innerHTML='<i class="fa fa-toggle-right"></i>',audioPlayer.mini=!0}};